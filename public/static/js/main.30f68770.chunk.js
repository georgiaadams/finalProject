(this["webpackJsonpm3-client"]=this["webpackJsonpm3-client"]||[]).push([[0],{34:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(35),s=n.n(c),o=n(6),i=n(2),u=n(3),l=n(5),j=n(4),h=(n(41),n(7)),d=(n(42),n(0));var p=function(){return Object(d.jsxs)("div",{className:"main",children:[Object(d.jsx)("h1",{className:"welcome",children:"Welcome to meal.ly!"}),Object(d.jsx)("p",{children:"Help reduce food waste by connecting with local businesses, so their excess food can be shared not thrown away."}),Object(d.jsx)("img",{className:"food-icon",src:"https://res.cloudinary.com/skillbees/image/upload/v1615127939/Meal.ly/food-donation_jrc2lu.png",alt:"food-icon"}),Object(d.jsxs)("div",{className:"buttons",children:[Object(d.jsxs)(o.b,{to:"/login",children:[Object(d.jsx)("button",{className:"login-business-button",children:"Login for business"})," "]}),Object(d.jsx)("br",{}),Object(d.jsxs)(o.b,{to:"/signup",children:[Object(d.jsx)("button",{className:"signup-business-button",children:"Sign up for business"})," "]}),Object(d.jsx)("br",{}),Object(d.jsx)("hr",{className:"hr-home"}),Object(d.jsxs)(o.b,{to:"/user/login",children:[Object(d.jsx)("button",{className:"user-login-button",children:"Login for users"})," "]}),Object(d.jsx)("br",{}),Object(d.jsxs)(o.b,{to:"/user/signup",children:[Object(d.jsx)("button",{className:"user-signup-button",children:"Sign up for users"})," "]})]}),Object(d.jsx)("div",{className:"footer",children:Object(d.jsx)("p",{children:"Designed by Anna & Georgia"})})]})},f=n(9),b=n(15),m=n(17),O=n.n(m),v=new(function(){function e(){Object(i.a)(this,e),this.auth=O.a.create({baseURL:"https://meal-ly.herokuapp.com",withCredentials:!0})}return Object(u.a)(e,[{key:"userSignup",value:function(e,t,n,r){return this.auth.post("/auth/user/signup",{firstName:e,lastName:t,email:n,password:r}).then((function(e){return e.data}))}},{key:"userLogin",value:function(e,t){return this.auth.post("/auth/user/login",{email:e,password:t}).then((function(e){return e.data}))}},{key:"providerSignup",value:function(e,t,n,r,a){return this.auth.post("/auth/signup",{companyName:e,address:t,phoneNumber:n,email:r,password:a}).then((function(e){return e.data}))}},{key:"providerLogin",value:function(e,t){return this.auth.post("/auth/login",{email:e,password:t}).then((function(e){return e.data}))}},{key:"logout",value:function(){return this.auth.get("/auth/logout").then((function(e){return e.data}))}},{key:"me",value:function(){return this.auth.get("/auth/me").then((function(e){return e.data}))}}]),e}()),g=a.a.createContext(),x=g.Consumer,y=g.Provider,S=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={isLoggedIn:!1,isLoading:!0,user:null,isProviderUser:!1},e.userSignup=function(t,n,r,a){v.userSignup(t,n,r,a).then((function(t){var n=!!t.companyName;e.setState({isLoggedIn:!0,user:t,isProviderUser:n})})).catch((function(t){e.setState({isLoggedIn:!1,user:null})}))},e.userLogin=function(t,n){v.userLogin(t,n).then((function(t){var n=!!t.companyName;e.setState({isLoggedIn:!0,user:t,isProviderUser:n})})).catch((function(t){e.setState({isLoggedIn:!1,user:null})}))},e.providerSignup=function(t,n,r,a,c){v.providerSignup(t,n,r,a,c).then((function(t){var n=!!t.companyName;e.setState({isLoggedIn:!0,user:t,isProviderUser:n})})).then((function(t){return e.setState({isLoggedIn:!0,user:t})})).catch((function(t){e.setState({isLoggedIn:!1,user:null})}))},e.providerLogin=function(t,n){v.providerLogin(t,n).then((function(t){var n=!!t.companyName;e.setState({isLoggedIn:!0,user:t,isProviderUser:n})})).then((function(t){return e.setState({isLoggedIn:!0,user:t})})).catch((function(t){e.setState({isLoggedIn:!1,user:null})}))},e.logout=function(){v.logout().then((function(){return e.setState({isLoggedIn:!1,user:null,isProviderUser:!1})})).catch((function(e){return console.log(e)}))},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;v.me().then((function(t){var n=!!t.companyName;e.setState({isLoggedIn:!0,user:t,isLoading:!1,isProviderUser:n})})).catch((function(t){return e.setState({isLoggedIn:!1,user:null,isLoading:!1,isProviderUser:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.isLoggedIn,n=e.isLoading,r=e.user,a=e.isProviderUser,c=this.userSignup,s=this.userLogin,o=this.providerSignup,i=this.providerLogin,u=this.logout;return n?Object(d.jsx)("p",{children:"Loading"}):Object(d.jsx)(y,{value:{isLoggedIn:t,isLoading:n,user:r,isProviderUser:a,userSignup:c,userLogin:s,providerSignup:o,providerLogin:i,logout:u},children:this.props.children})}}]),n}(a.a.Component),N=function(e){return function(t){return Object(d.jsx)(x,{children:function(n){var r=n.isLoggedIn,a=n.isLoading,c=n.user,s=n.isProviderUser,o=n.userSignup,i=n.userLogin,u=n.providerSignup,l=n.providerLogin,j=n.logout;return Object(d.jsx)(e,Object(b.a)({isLoggedIn:r,isLoading:a,user:c,isProviderUser:s,userSignup:o,userLogin:i,providerSignup:u,providerLogin:l,logout:j},t))}})}},k=N(function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={companyName:"",address:"",phoneNumber:0,email:"",password:""},e.handleFormSubmit=function(t){t.preventDefault();var n=e.state,r=n.companyName,a=n.address,c=n.phoneNumber,s=n.email,o=n.password;e.props.providerSignup(r,a,c,s,o)},e.handleChange=function(t){var n=t.target,r=n.name,a=n.value;e.setState(Object(f.a)({},r,a))},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state,t=e.companyName,n=e.address,r=e.phoneNumber,a=e.email,c=e.password;return Object(d.jsxs)("div",{className:"signup",children:[Object(d.jsx)("h1",{children:"Sign Up"}),Object(d.jsxs)("form",{onSubmit:this.handleFormSubmit,children:[Object(d.jsx)("label",{}),Object(d.jsx)("input",{type:"text",name:"companyName",placeholder:"company name",value:t,onChange:this.handleChange}),Object(d.jsx)("br",{}),Object(d.jsx)("label",{}),Object(d.jsx)("input",{type:"text",name:"address",placeholder:"address",value:n,onChange:this.handleChange}),Object(d.jsx)("br",{}),Object(d.jsx)("label",{}),Object(d.jsx)("input",{type:"number",name:"phoneNumber",placeholder:"phone number",value:r,onChange:this.handleChange}),Object(d.jsx)("br",{}),Object(d.jsx)("label",{}),Object(d.jsx)("input",{type:"email",name:"email",placeholder:"email",value:a,onChange:this.handleChange}),Object(d.jsx)("br",{}),Object(d.jsx)("label",{}),Object(d.jsx)("input",{type:"password",name:"password",placeholder:"password",value:c,onChange:this.handleChange}),Object(d.jsx)("br",{}),Object(d.jsx)("button",{className:"signup-btn",type:"submit",value:"Signup",children:"Signup"})]}),Object(d.jsx)("p",{children:"Already have account?"}),Object(d.jsxs)(o.b,{to:"/login",children:[" ",Object(d.jsx)("button",{className:"login-btn",children:"Login"})]})]})}}]),n}(r.Component)),C=(n(67),N(function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={firstName:"",lastName:"",email:"",password:""},e.handleFormSubmit=function(t){t.preventDefault();var n=e.state,r=n.firstName,a=n.lastName,c=n.email,s=n.password;e.props.userSignup(r,a,c,s)},e.handleChange=function(t){var n=t.target,r=n.name,a=n.value;e.setState(Object(f.a)({},r,a))},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state,t=e.firstName,n=e.lastName,r=e.email,a=e.password;return Object(d.jsxs)("div",{className:"signup",children:[Object(d.jsx)("h1",{children:"User Signup"}),Object(d.jsxs)("form",{onSubmit:this.handleFormSubmit,children:[Object(d.jsx)("label",{}),Object(d.jsx)("input",{type:"text",name:"firstName",placeholder:"firstname",value:t,onChange:this.handleChange}),Object(d.jsx)("br",{}),Object(d.jsx)("label",{}),Object(d.jsx)("input",{type:"text",name:"lastName",placeholder:"lastname",value:n,onChange:this.handleChange}),Object(d.jsx)("br",{}),Object(d.jsx)("label",{}),Object(d.jsx)("input",{type:"email",name:"email",placeholder:"email",value:r,onChange:this.handleChange}),Object(d.jsx)("br",{}),Object(d.jsx)("label",{}),Object(d.jsx)("input",{type:"password",name:"password",placeholder:"password",value:a,onChange:this.handleChange}),Object(d.jsx)("br",{}),Object(d.jsx)("button",{className:"signup-btn",type:"submit",value:"Signup",children:"Signup"})]}),Object(d.jsx)("p",{children:"Already have account?"}),Object(d.jsxs)(o.b,{to:"/user/login",children:[" ",Object(d.jsx)("button",{className:"login-btn",children:"Login"})]})]})}}]),n}(r.Component))),w=N(function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={email:"",password:""},e.handleFormSubmit=function(t){t.preventDefault();var n=e.state,r=n.email,a=n.password;e.props.providerLogin(r,a)},e.handleChange=function(t){var n=t.target,r=n.name,a=n.value;e.setState(Object(f.a)({},r,a))},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state,t=e.email,n=e.password;return Object(d.jsxs)("div",{className:"login",children:[Object(d.jsx)("h1",{children:"Login"}),Object(d.jsxs)("form",{onSubmit:this.handleFormSubmit,children:[Object(d.jsx)("label",{}),Object(d.jsx)("input",{type:"email",name:"email",placeholder:"email",value:t,onChange:this.handleChange}),Object(d.jsx)("br",{}),Object(d.jsx)("label",{}),Object(d.jsx)("input",{type:"password",name:"password",placeholder:"password",value:n,onChange:this.handleChange}),Object(d.jsx)("br",{}),Object(d.jsx)("button",{type:"submit",value:"Login",children:"Login"})]})]})}}]),n}(r.Component)),L=(n(68),N(function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={email:"",password:""},e.handleFormSubmit=function(t){t.preventDefault();var n=e.state,r=n.email,a=n.password;e.props.userLogin(r,a)},e.handleChange=function(t){var n=t.target,r=n.name,a=n.value;e.setState(Object(f.a)({},r,a))},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state,t=e.email,n=e.password;return Object(d.jsxs)("div",{className:"login",children:[Object(d.jsx)("h1",{children:"User Login"}),Object(d.jsxs)("form",{onSubmit:this.handleFormSubmit,children:[Object(d.jsx)("label",{}),Object(d.jsx)("input",{type:"email",name:"email",placeholder:"email",value:t,onChange:this.handleChange}),Object(d.jsx)("br",{}),Object(d.jsx)("label",{}),Object(d.jsx)("input",{type:"password",name:"password",placeholder:"password",value:n,onChange:this.handleChange}),Object(d.jsx)("br",{}),Object(d.jsx)("button",{type:"submit",value:"Login",children:"Login"})]})]})}}]),n}(r.Component))),I=new function e(){var t=this;Object(i.a)(this,e),this.getOffersUser=function(){return t.api.get("/user/offers/status/new").then((function(e){return e.data}))},this.getOneOfferUser=function(e){return t.api.get("user/offers/".concat(e)).then((function(e){return e.data}))},this.getPendingOffersUser=function(){return t.api.get("/user/offers/status/ready-requested").then((function(e){return e.data}))},this.getCompletedOffersUser=function(){return t.api.get("/user/offers/status/completed").then((function(e){return e.data}))},this.requestOffer=function(e){var n=e.offerId,r=e.comments,a=e.pickupSlot;return t.api.put("/user/offers/status/update",{offerId:n,comments:r,pickupSlot:a}).then((function(e){return e.data}))},this.completeOffer=function(e){var n=e.offerId;return t.api.put("/user/offers/status/completed",{offerId:n}).then((function(e){return e.data}))},this.api=O.a.create({baseURL:"https://meal-ly.herokuapp.com/api",withCredentials:!0})},P=(n(34),function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={allOffers:[]},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;I.getOffersUser().then((function(t){e.setState({allOffers:t})}))}},{key:"render",value:function(){var e=this.state.allOffers;return Object(d.jsx)("div",{children:e.slice(0,2).map((function(e){return Object(d.jsxs)("div",{className:"offer-card",children:[Object(d.jsxs)("div",{className:"offer-info",children:[Object(d.jsxs)("p",{children:["Company: ",e.companyName]}),Object(d.jsxs)("p",{children:["Content: ",e.content]}),Object(d.jsxs)("p",{children:["Quantity: ",e.quantity]})]}),Object(d.jsx)("div",{children:Object(d.jsx)("img",{width:"80px",src:e.image,alt:"offer-img"})})]},e._id)}))})}}]),n}(r.Component)),q=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={pendingOffers:[]},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;I.getPendingOffersUser().then((function(t){e.setState({pendingOffers:t})}))}},{key:"render",value:function(){var e=this.state.pendingOffers;return Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:"Your Requested Offers"}),e.map((function(e){return Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{children:e.companyName}),Object(d.jsx)("p",{children:e.address}),Object(d.jsx)("p",{children:e.phoneNumber})]})}))]})}}]),n}(r.Component);n(69);var A=N((function(){return Object(d.jsxs)("div",{className:"homepage",children:[Object(d.jsx)("h2",{children:"All Offers"}),Object(d.jsx)(o.b,{to:"/user/offers",children:"See all new offers"}),Object(d.jsx)(P,{}),Object(d.jsx)(q,{}),Object(d.jsx)(o.b,{to:"/user/offers/pending",children:Object(d.jsx)("button",{children:"See all requests"})})]})})),U=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={completedOffers:[]},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;I.getCompletedOffersUser().then((function(t){console.log(t);var n=t.filter((function(e){return"completed"===e.status}));e.setState({completedOffers:n})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.state.completedOffers;return Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:"Your Completed Orders"}),e.map((function(e){return Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{children:e.companyName}),Object(d.jsx)("h3",{children:e.content}),Object(d.jsx)("h3",{children:e.status})]},e._id)}))]})}}]),n}(r.Component),D=n(14),M=n.n(D),_=n(18),F=(n(71),function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={username:"",comments:""},e.handleInput=function(t){var n=t.target,r=n.value,a=n.name;e.setState(Object(f.a)({},a,r))},e.handleFormSubmit=function(){var t=Object(_.a)(M.a.mark((function t(n){var r,a,c,s,o;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),r=e.state,a=r.username,c=r.comments,s=e.props.offerId,t.next=5,I.requestOffer({offerId:s,comments:c,username:a});case 5:o=t.sent,console.log(o),e.setState({username:"",comments:""});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state,t=e.username,n=e.comments;return Object(d.jsx)("div",{className:"pickup-form",children:Object(d.jsxs)("form",{className:"user-form",onSubmit:this.handleFormSubmit,children:[Object(d.jsx)("label",{children:"Name"}),Object(d.jsx)("h5",{children:"Please let us know who will come to collect \ud83d\ude0a"}),Object(d.jsx)("input",{type:"text",name:"username",value:t,onChange:this.handleInput}),Object(d.jsx)("br",{}),Object(d.jsx)("label",{children:"Comments"}),Object(d.jsx)("input",{type:"text",name:"comments",value:n,onChange:this.handleInput,placeholder:"Leave any comments here"}),Object(d.jsx)("br",{}),Object(d.jsx)("button",{children:"Request"})]})})}}]),n}(a.a.Component)),R=(n(72),function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={oneOffer:[]},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;I.getOneOfferUser(t).then((function(t){console.log(t),e.setState({oneOffer:t})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.state.oneOffer;return Object(d.jsxs)("div",{className:"offer-details",children:[Object(d.jsx)("div",{className:"offer-header",children:Object(d.jsx)("h2",{children:"Offer Details"})}),Object(d.jsx)("img",{width:"150px",style:{borderRadius:"15px"},src:e.image,alt:"offer-img"}),Object(d.jsxs)("div",{className:"offer-info",children:[Object(d.jsxs)("p",{children:["Company: ",e.companyName]}),Object(d.jsxs)("p",{children:["Content: ",e.content]}),Object(d.jsxs)("p",{children:["Quantity: ",e.quantity," | Pickup: ",e.pickupSlot]})]}),Object(d.jsx)("hr",{}),Object(d.jsx)("h4",{children:"Pickup Request"}),Object(d.jsx)(F,{offerId:this.props.match.params.id})]})}}]),n}(r.Component)),E=(n(73),function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={allOffers:[]},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;I.getOffersUser().then((function(t){e.setState({allOffers:t})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.state.allOffers;return console.log(e),Object(d.jsxs)("div",{className:"all-offers",children:[Object(d.jsx)("h2",{children:"All Offers"}),e.map((function(e){return Object(d.jsxs)("div",{className:"offer-card",children:[Object(d.jsxs)("div",{className:"offer-info",children:[Object(d.jsx)("p",{children:e.companyName}),Object(d.jsx)("p",{children:e.quantity}),Object(d.jsx)("p",{children:e.content})]}),Object(d.jsx)("div",{children:Object(d.jsx)("img",{width:"80px",src:e.image,alt:"offerimg"})}),Object(d.jsx)("div",{children:Object(d.jsx)(o.b,{to:"/user/offers/".concat(e._id),children:Object(d.jsx)("button",{children:"See more"})})})]},e._id)}))]})}}]),n}(a.a.Component)),W=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).handleClick=function(){var t=Object(_.a)(M.a.mark((function t(n){var r,a;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props.offerId,t.next=3,I.completeOffer({offerId:r});case 3:a=t.sent,console.log(a),e.props.history.push("/user/offers/completed");case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(u.a)(n,[{key:"render",value:function(){return Object(d.jsx)("div",{children:Object(d.jsx)("button",{onClick:this.handleClick,children:"Collected"})})}}]),n}(a.a.Component),Y=Object(h.g)(W),H=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={readyOffers:[]},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;I.getPendingOffersUser().then((function(t){console.log(t);var n=t.filter((function(e){return"ready"===e.status}));console.log(n),e.setState({readyOffers:n})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.state.readyOffers;return Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:"All Pending Requests"}),Object(d.jsx)("h4",{children:"Requested"}),Object(d.jsx)("h4",{children:"Ready for Collection"}),e.map((function(e){return Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{children:e.companyName}),Object(d.jsx)("p",{children:e.pickupSlot}),Object(d.jsx)("p",{children:e.comments}),Object(d.jsx)(Y,{offerId:e._id})]},e._id)}))]})}}]),n}(r.Component),J=(n(74),n(75),function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(d.jsxs)("div",{class:"bottom-navbar",children:[Object(d.jsx)(o.b,{to:"/provider/offers",children:Object(d.jsx)("p",{children:"My offers"})}),Object(d.jsx)(o.b,{to:"/provider/offers/new",children:Object(d.jsx)("p",{children:"New offer"})}),Object(d.jsx)(o.b,{to:"/provider/offers",children:Object(d.jsx)("p",{children:"My profile"})}),Object(d.jsx)(o.b,{to:"/provider/homepage",children:Object(d.jsx)("p",{children:"Home"})})]})}}]),n}(r.Component)),Q=new function e(){var t=this;Object(i.a)(this,e),this.getAllOffersProvider=function(){return t.api.get("/provider/offers").then((function(e){return e.data}))},this.getOneOfferProvider=function(e){return t.api.get("/provider/offers/".concat(e)).then((function(e){return e.data}))},this.createOffer=function(e,n,r,a,c,s){var o={content:e,quantity:n,date:r,pickupSlot:a,companyName:c,image:s};return t.api.post("/provider/offers",o)},this.editOffer=function(e,n){var r=n.companyName,a=n.content,c=n.quantity,s=n.date,o=n.pickupSlot;return t.api.put("/provider/offers/".concat(e),{companyName:r,content:a,quantity:c,date:s,pickupSlot:o}).then((function(e){return e.data}))},this.deleteOffer=function(e){return t.api.delete("/provider/offers/".concat(e)).then((function(e){return e.data}))},this.acceptOffer=function(e){var n=e.offerId;return t.api.put("/provider/offers/status/update",{offerId:n}).then((function(e){return e.data}))},this.api=O.a.create({baseURL:"https://meal-ly.herokuapp.com/api",withCredentials:!0})},B=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={requestedOffers:[]},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;Q.getAllOffersProvider().then((function(t){var n=t.filter((function(e){return"requested"===e.status}));console.log(n),e.setState({requestedOffers:n})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.state.requestedOffers;return Object(d.jsxs)("div",{className:"provider-home",children:[Object(d.jsx)("img",{className:"care-icon",src:"https://res.cloudinary.com/skillbees/image/upload/v1615127951/Meal.ly/love_louyw3.png",alt:"care-icon"}),Object(d.jsx)(o.b,{to:"/provider/offers/new",children:Object(d.jsx)("button",{className:"add-new-offer",children:"Add a new offer"})}),Object(d.jsx)("h3",{children:"Your requested offers:"}),e.map((function(e){return Object(d.jsxs)("div",{children:[Object(d.jsx)(o.b,{to:"/provider/offers/".concat(e._id),children:Object(d.jsx)("p",{children:e.companyName})}),Object(d.jsx)("p",{children:e.content}),Object(d.jsx)("p",{children:e.comments}),Object(d.jsx)("p",{children:e.pickupSlot})]},e._id)})),Object(d.jsx)(o.b,{to:"/provider/offers",children:Object(d.jsx)("button",{className:"offers-panel-button",children:"All my offers"})}),Object(d.jsx)(J,{})]})}}]),n}(a.a.Component),G=N(function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={companyName:"",content:"",quantity:"",date:new Date,pickupSlot:""},e.handleFormSubmit=function(t){t.preventDefault();var n=e.state,r=n.companyName,a=n.content,c=n.quantity,s=n.date,o=n.pickupSlot,i=e.props.match.params.id;Q.editOffer(i,{companyName:r,content:a,quantity:c,date:s,pickupSlot:o}).then((function(t){e.setState({companyName:"",content:"",quantity:"",date:new Date,pickupSlot:""}),e.props.history.push("/provider/offers")})).catch((function(e){return console.log(e)}))},e.handleChange=function(t){var n=t.target,r=n.name,a=n.value;e.setState(Object(f.a)({},r,a))},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;Q.getOneOfferProvider(t).then((function(t){e.setState(Object(b.a)({},t))})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"Edit your offer"}),Object(d.jsxs)("form",{onSubmit:this.handleFormSubmit,children:[Object(d.jsx)("label",{children:"Name of your company:"}),Object(d.jsx)("input",{type:"text",name:"companyName",value:this.state.companyName,onChange:this.handleChange}),Object(d.jsx)("br",{}),Object(d.jsx)("label",{children:"What kind of food are you giving away?"}),Object(d.jsx)("input",{type:"text",name:"content",value:this.state.content,onChange:this.handleChange}),Object(d.jsx)("br",{}),Object(d.jsx)("label",{children:"Please specify the amount:"}),Object(d.jsx)("input",{type:"text",name:"quantity",value:this.state.quantity,onChange:this.handleChange}),Object(d.jsx)("br",{}),Object(d.jsx)("label",{children:"Pickup day:"}),Object(d.jsx)("input",{type:"date",name:"date",value:this.state.date,onChange:this.handleChange}),Object(d.jsx)("br",{}),Object(d.jsx)("label",{children:"Pickup time:"}),Object(d.jsx)("input",{type:"time",name:"pickupSlot",value:this.state.pickupSlot,onChange:this.handleChange}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{type:"submit",value:"Submit"})]})]})}}]),n}(r.Component)),V=(n(76),function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={companyName:"",content:"",quantity:"",date:new Date,pickupSlot:"",image:""},e.handleFormSubmit=function(t){t.preventDefault();var n=e.state,r=n.content,a=n.quantity,c=n.date,s=n.pickupSlot,o=n.companyName,i=n.image;Q.createOffer(r,a,c,s,o,i).then((function(t){console.log(t),e.setState({companyName:"",content:"",quantity:"",date:new Date,pickupSlot:"",image:""}),e.props.history.push("/provider/homepage")})).catch((function(e){return console.log(e)}))},e.handleChange=function(t){var n=t.target,r=n.name,a=n.value;e.setState(Object(f.a)({},r,a))},e}return Object(u.a)(n,[{key:"render",value:function(){return Object(d.jsxs)("div",{className:"new-offer-form",children:[Object(d.jsxs)("form",{className:"new-offer",onSubmit:this.handleFormSubmit,children:[Object(d.jsx)("label",{children:"Name of your company:"}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{type:"text",name:"companyName",value:this.state.companyName,onChange:this.handleChange}),Object(d.jsx)("br",{}),Object(d.jsx)("label",{children:"What kind of food are you giving away?"}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{type:"text",name:"content",value:this.state.content,onChange:this.handleChange}),Object(d.jsx)("br",{}),Object(d.jsx)("label",{children:"Please specify the amount:"}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{type:"text",name:"quantity",value:this.state.quantity,onChange:this.handleChange}),Object(d.jsx)("br",{}),Object(d.jsx)("label",{children:"Pickup day:"}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{type:"date",name:"date",value:this.state.date,onChange:this.handleChange}),Object(d.jsx)("br",{}),Object(d.jsx)("label",{children:"Pickup time:"}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{type:"time",name:"pickupSlot",value:this.state.pickupSlot,onChange:this.handleChange}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("button",{className:"new-offer-button",children:"Submit"})]}),Object(d.jsx)(J,{})]})}}]),n}(r.Component)),z=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).handleClick=function(){var t=Object(_.a)(M.a.mark((function t(n){var r,a;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props.match.params.id,t.next=3,Q.acceptOffer({offerId:r});case 3:a=t.sent,console.log(a),e.props.history.push("/provider/offers");case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(u.a)(n,[{key:"render",value:function(){return Object(d.jsx)("div",{children:Object(d.jsx)("button",{onClick:this.handleClick,children:"Accept pickup "})})}}]),n}(r.Component),K=Object(h.g)(z),T=n(20),X=n.n(T),Z=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={offer:[]},e.deleteOneOffer=function(){var t=e.props.match.params.id;Q.deleteOffer(t).then((function(){return e.props.history.push("/provider/offers")})).catch((function(e){return console.log(e)}))},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;Q.getOneOfferProvider(t).then((function(t){console.log(t),e.setState({offer:t})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.state.offer;return Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:e.companyName}),Object(d.jsx)("p",{children:e.content}),Object(d.jsx)("p",{children:e.quantity}),Object(d.jsxs)("p",{children:["Pickup time: ",e.pickupSlot]}),Object(d.jsxs)("p",{children:["Pickup day: ",X()(e.date).format("LL")]}),Object(d.jsx)("p",{children:e.status}),Object(d.jsx)(o.b,{to:"/provider/offers/edit/".concat(e._id),children:Object(d.jsx)("button",{children:"Edit"})}),Object(d.jsx)("button",{onClick:this.deleteOneOffer,children:"Remove offer"}),Object(d.jsx)(J,{}),Object(d.jsx)(K,{})]})}}]),n}(r.Component),$=(n(78),function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={offers:[]},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;Q.getAllOffersProvider().then((function(t){console.log(t),e.setState({offers:t})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return Object(d.jsxs)("div",{className:"offer",children:[this.state.offers.map((function(e){return Object(d.jsx)("div",{className:"provider-offer-details",children:Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{children:e.content}),Object(d.jsxs)("p",{children:[Object(d.jsx)("img",{className:"offer-icon",src:"https://res.cloudinary.com/skillbees/image/upload/v1615134623/Meal.ly/healthy-food_jf07wc.png",alt:"bowl-icon"})," ",e.quantity]}),Object(d.jsxs)("p",{children:[Object(d.jsx)("img",{className:"offer-icon",src:"https://res.cloudinary.com/skillbees/image/upload/v1615134623/Meal.ly/clock_snwysd.png",alt:"clock-icon"})," ","Pickup time: ",e.pickupSlot]}),Object(d.jsxs)("p",{children:[Object(d.jsx)("img",{className:"offer-icon",src:"https://res.cloudinary.com/skillbees/image/upload/v1615134623/Meal.ly/calendar_hhbgvr.png",alt:"calendar-icon"})," ","Pickup day: ",X()(e.date).format("LL"),";"]}),Object(d.jsxs)("p",{children:[Object(d.jsx)("img",{className:"offer-icon",src:"https://res.cloudinary.com/skillbees/image/upload/v1615134623/Meal.ly/charging-circle_p7sls6.png",alt:"status-icon"})," ","Status: ",e.status]}),Object(d.jsx)(o.b,{to:"/provider/offers/".concat(e._id),children:Object(d.jsx)("button",{className:"view-details",children:"View details"})})]},e._id)})})),Object(d.jsx)(J,{})]})}}]),n}(r.Component));var ee=N((function(e){var t=e.isLoggedIn,n=e.isLoading,r=e.isProviderUser,a=e.component,c=e.exact,s=e.path;return n?"Loading":Object(d.jsx)(h.b,{exact:c,path:s,render:function(e){return t&&!r?Object(d.jsx)(h.a,{to:"/user/homepage"}):t?Object(d.jsx)(h.a,{to:"/provider/homepage"}):Object(d.jsx)(a,Object(b.a)({},e))}})}));var te=N((function(e){var t=e.isLoggedIn,n=e.isLoading,r=e.component,a=e.exact,c=e.path;return n?"Loading":Object(d.jsx)(h.b,{exact:a,path:c,render:function(e){return t?t?Object(d.jsx)(r,Object(b.a)({},e)):void 0:Object(d.jsx)(h.a,{to:"/"})}})})),ne=(n(79),N(function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.user,n=e.logout,r=e.isLoggedIn,a=e.isProviderUser;(null===t||void 0===t?void 0:t.firstName)||null===t||void 0===t||t.companyName;return Object(d.jsxs)("nav",{className:"navbar",children:[Object(d.jsx)(o.b,{to:a?"/provider/homepage":"/user/homepage",id:"home-btn",children:Object(d.jsx)("img",{className:"logo",src:"https://res.cloudinary.com/skillbees/image/upload/v1615120413/Meal.ly/homelogo_dovbaf.png",alt:"logo"})}),r?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("p",{children:t&&t.firstName}),Object(d.jsx)("img",{onClick:n,className:"logout",src:"https://res.cloudinary.com/skillbees/image/upload/v1615137241/Meal.ly/logout_ylpnmq.png"})]}):Object(d.jsx)(d.Fragment,{})]})}}]),n}(r.Component))),re=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)(ne,{}),Object(d.jsxs)(h.d,{children:[Object(d.jsx)(h.b,{exact:!0,path:"/",component:p}),Object(d.jsx)(ee,{exact:!0,path:"/signup",component:k}),Object(d.jsx)(ee,{exact:!0,path:"/login",component:w}),Object(d.jsx)(ee,{exact:!0,path:"/user/signup",component:C}),Object(d.jsx)(ee,{exact:!0,path:"/user/login",component:L}),Object(d.jsx)(te,{exact:!0,path:"/provider/homepage",component:B}),Object(d.jsx)(te,{exact:!0,path:"/provider/offers/new",component:V}),Object(d.jsx)(te,{exact:!0,path:"/provider/offers/:id",component:Z}),Object(d.jsx)(te,{exact:!0,path:"/provider/offers/edit/:id",component:G}),Object(d.jsx)(te,{exact:!0,path:"/provider/offers",component:$}),Object(d.jsx)(te,{exact:!0,path:"/user/homepage",component:A}),Object(d.jsx)(te,{exact:!0,path:"/user/offers",component:E}),Object(d.jsx)(te,{exact:!0,path:"/user/offers/pending",component:H}),Object(d.jsx)(te,{exact:!0,path:"/user/offers/completed",component:U}),Object(d.jsx)(te,{exact:!0,path:"/user/offers/:id",component:R})]})]})}}]),n}(r.Component);s.a.render(Object(d.jsx)(o.a,{children:Object(d.jsx)(S,{children:Object(d.jsx)(re,{})})}),document.getElementById("root"))}},[[80,1,2]]]);
//# sourceMappingURL=main.30f68770.chunk.js.map